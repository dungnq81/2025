{"version":3,"file":"login-otp.js","sources":["../../resources/js/login-otp.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    const loginform = document.getElementById('loginform');\r\n    if (loginform) {\r\n        loginform.classList.add('otp-loginform');\r\n\r\n        const el = document.querySelector(\"input[name='pwd']\");\r\n        if (el) {\r\n            el.setAttribute(\"autocomplete\", \"off\");\r\n            el.setAttribute(\"readonly\", true);\r\n            setTimeout(() => el.removeAttribute(\"readonly\"), 500);\r\n        }\r\n\r\n        const rememberBox = document.getElementById(\"rememberme\");\r\n        if (rememberBox) {\r\n            rememberBox.checked = false;\r\n            rememberBox.closest(\"p\")?.remove();\r\n        }\r\n    }\r\n\r\n    // Enforce numeric-only input for numeric inputmode elements.\r\n    const form = document.querySelector('#loginform'),\r\n        inputEl = document.querySelector('input.authcode[inputmode=\"numeric\"]'),\r\n        expectedLength = Number(inputEl?.dataset.digits) || 0;\r\n\r\n    if (inputEl) {\r\n        inputEl.addEventListener('input', function () {\r\n                let value = this.value.replace(/[^0-9 ]/g, '').trimStart();\r\n                this.value = value;\r\n\r\n                // Auto-submit if it's the expected length.\r\n                if (expectedLength && value.replace(/ /g, '').length === expectedLength) {\r\n                    if (undefined !== form.requestSubmit) {\r\n                        form.requestSubmit();\r\n                        form.submit.disabled = \"disabled\";\r\n                    }\r\n                }\r\n            }\r\n        );\r\n    }\r\n});\r\n"],"names":[],"mappings":"AAAA,SAAS,iBAAiB,oBAAoB,WAAY;AAA1D;AACI,QAAM,YAAY,SAAS,eAAe,WAAW;AACrD,MAAI,WAAW;AACX,cAAU,UAAU,IAAI,eAAe;AAEvC,UAAM,KAAK,SAAS,cAAc,mBAAmB;AACrD,QAAI,IAAI;AACJ,SAAG,aAAa,gBAAgB,KAAK;AACrC,SAAG,aAAa,YAAY,IAAI;AAChC,iBAAW,MAAM,GAAG,gBAAgB,UAAU,GAAG,GAAG;AAAA,IACvD;AAED,UAAM,cAAc,SAAS,eAAe,YAAY;AACxD,QAAI,aAAa;AACb,kBAAY,UAAU;AACtB,wBAAY,QAAQ,GAAG,MAAvB,mBAA0B;AAAA,IAC7B;AAAA,EACJ;AAGD,QAAM,OAAO,SAAS,cAAc,YAAY,GAC5C,UAAU,SAAS,cAAc,qCAAqC,GACtE,iBAAiB,OAAO,mCAAS,QAAQ,MAAM,KAAK;AAExD,MAAI,SAAS;AACT,YAAQ;AAAA,MAAiB;AAAA,MAAS,WAAY;AACtC,YAAI,QAAQ,KAAK,MAAM,QAAQ,YAAY,EAAE,EAAE;AAC/C,aAAK,QAAQ;AAGb,YAAI,kBAAkB,MAAM,QAAQ,MAAM,EAAE,EAAE,WAAW,gBAAgB;AACrE,cAAI,WAAc,KAAK,eAAe;AAClC,iBAAK,cAAa;AAClB,iBAAK,OAAO,WAAW;AAAA,UAC1B;AAAA,QACJ;AAAA,MACJ;AAAA,IACb;AAAA,EACK;AACL,CAAC;"}