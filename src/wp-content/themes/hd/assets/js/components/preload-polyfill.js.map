{"version":3,"file":"preload-polyfill.js","sources":["../../../resources/scripts/utils/lighthouse.js","../../../resources/scripts/utils/viewport-fix.js"],"sourcesContent":["// lighthouse.js\n\n(async function detectLighthouse() {\n    const DETECTION_CLASS = 'is-lighthouse';\n\n    const indicators = {\n        ua: false,\n        backend: false\n    };\n\n    // UA\n    indicators.ua = (\n        navigator.userAgent.includes('Lighthouse') ||\n        navigator.userAgent.includes('HeadlessChrome') ||\n        navigator.webdriver === true\n    );\n\n    // BE\n    if (typeof window.hdConfig !== 'undefined') {\n        try {\n            const res = await fetch(window.hdConfig._restApiUrl + 'global/lighthouse', {\n                method: 'GET',\n                credentials: 'same-origin',\n                headers: {\n                    'X-WP-Nonce': window.hdConfig._restToken\n                }\n            });\n            const json = await res.json();\n            indicators.backend = json.success && json.detected;\n        } catch (err) {}\n    }\n\n    // Apply detection\n    const applyDetection = () => {\n        const anyDetected = Object.values(indicators).some(Boolean);\n        if (anyDetected) {\n            document.documentElement.classList.add(DETECTION_CLASS);\n        }\n    };\n\n    // Apply detection\n    applyDetection();\n})();\n","// viewport-fix.js\r\n\r\n(() => {\r\n    function setViewportProperty() {\r\n        let vh = window.innerHeight * 0.01;\r\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n    }\r\n\r\n    window.addEventListener('resize', setViewportProperty);\r\n    setViewportProperty();\r\n})();\r\n"],"names":[],"mappings":"CAEC,eAAe,mBAAmB;AAC/B,QAAM,kBAAkB;AAExB,QAAM,aAAa;AAAA,IACf,IAAI;AAAA,IACJ,SAAS;AAAA,EACZ;AAGD,aAAW,KACP,UAAU,UAAU,SAAS,YAAY,KACzC,UAAU,UAAU,SAAS,gBAAgB,KAC7C,UAAU,cAAc;AAI5B,MAAI,OAAO,OAAO,aAAa,aAAa;AACxC,QAAI;AACA,YAAM,MAAM,MAAM,MAAM,OAAO,SAAS,cAAc,qBAAqB;AAAA,QACvE,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,SAAS;AAAA,UACL,cAAc,OAAO,SAAS;AAAA,QAClD;AAAA,MACA,CAAa;AACD,YAAM,OAAO,MAAM,IAAI,KAAM;AAC7B,iBAAW,UAAU,KAAK,WAAW,KAAK;AAAA,IAC7C,SAAQ,KAAK;AAAA,IAAA;AAAA,EACtB;AAGI,QAAM,iBAAiB,MAAM;AACzB,UAAM,cAAc,OAAO,OAAO,UAAU,EAAE,KAAK,OAAO;AAC1D,QAAI,aAAa;AACb,eAAS,gBAAgB,UAAU,IAAI,eAAe;AAAA,IAClE;AAAA,EACK;AAGD,iBAAgB;AACpB,GAAI;AAAA,CCxCH,MAAM;AACH,WAAS,sBAAsB;AAC3B,QAAI,KAAK,OAAO,cAAc;AAC9B,aAAS,gBAAgB,MAAM,YAAY,QAAQ,GAAG,EAAE,IAAI;AAAA,EAC/D;AAED,SAAO,iBAAiB,UAAU,mBAAmB;AACrD;AACJ,GAAI;"}