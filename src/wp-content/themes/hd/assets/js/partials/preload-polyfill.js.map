{"version":3,"file":"preload-polyfill.js","sources":["../../../resources/scripts/utils/lighthouse.js","../../../resources/scripts/utils/viewport-fix.js"],"sourcesContent":["// lighthouse.js (IIFE)\n\n(async () => {\n    const DETECTION_CLASS = 'is-lighthouse';\n\n    const indicators = {\n        ua: false,\n        backend: false\n    };\n\n    // UA\n    indicators.ua = (\n        navigator.userAgent.includes('Lighthouse') ||\n        navigator.userAgent.includes('HeadlessChrome') ||\n        navigator.webdriver === true\n    );\n\n    if (indicators.ua) {\n        document.documentElement.classList.add(DETECTION_CLASS);\n        return;\n    }\n\n    // ajax\n    if (typeof window.hdConfig !== 'undefined') {\n        try {\n            const res = await fetch(window.hdConfig.restApiUrl + 'global/lighthouse', {\n                method: 'GET',\n                credentials: 'same-origin',\n                headers: {\n                    'X-WP-Nonce': window.hdConfig.restToken\n                }\n            });\n            const json = await res.json();\n            indicators.backend = json.success && json.detected;\n        } catch (err) {}\n\n        if (indicators.backend) {\n            document.documentElement.classList.add(DETECTION_CLASS);\n        }\n    }\n})();\n","// viewport-fix.js (IIFE)\r\n\r\n(() => {\r\n    function setViewportProperty() {\r\n        let vh = window.innerHeight * 0.01;\r\n        document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n    }\r\n\r\n    window.addEventListener('resize', setViewportProperty);\r\n    setViewportProperty();\r\n})();\r\n"],"names":[],"mappings":"CAEC,YAAY;AACT,QAAM,kBAAkB;AAExB,QAAM,aAAa;AAAA,IACf,IAAI;AAAA,IACJ,SAAS;AAAA,EACjB;AAGI,aAAW,KACP,UAAU,UAAU,SAAS,YAAY,KACzC,UAAU,UAAU,SAAS,gBAAgB,KAC7C,UAAU,cAAc;AAG5B,MAAI,WAAW,IAAI;AACf,aAAS,gBAAgB,UAAU,IAAI,eAAe;AACtD;AAAA,EACR;AAGI,MAAI,OAAO,OAAO,aAAa,aAAa;AACxC,QAAI;AACA,YAAM,MAAM,MAAM,MAAM,OAAO,SAAS,aAAa,qBAAqB;AAAA,QACtE,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,SAAS;AAAA,UACL,cAAc,OAAO,SAAS;AAAA,QAClD;AAAA,MACA,CAAa;AACD,YAAM,OAAO,MAAM,IAAI,KAAI;AAC3B,iBAAW,UAAU,KAAK,WAAW,KAAK;AAAA,IACtD,SAAiB,KAAK;AAAA,IAAA;AAEd,QAAI,WAAW,SAAS;AACpB,eAAS,gBAAgB,UAAU,IAAI,eAAe;AAAA,IAClE;AAAA,EACA;AACA,GAAC;AAAA,CCtCA,MAAM;AACH,WAAS,sBAAsB;AAC3B,QAAI,KAAK,OAAO,cAAc;AAC9B,aAAS,gBAAgB,MAAM,YAAY,QAAQ,GAAG,EAAE,IAAI;AAAA,EACpE;AAEI,SAAO,iBAAiB,UAAU,mBAAmB;AACrD;AACJ,GAAC;"}